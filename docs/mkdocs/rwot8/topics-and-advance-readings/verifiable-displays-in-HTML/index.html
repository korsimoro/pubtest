<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../../img/favicon.ico">
        <title>Verifiable Displays: secure presentation of Verifiable Credentials in HTML - MkDocs PoC</title>
        <link href="../../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script src="../../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../../js/bootstrap-3.0.3.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
            <div class="container">

                <!-- Collapsed navigation -->
                <div class="navbar-header">
                    <!-- Expander button -->
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="../../..">MkDocs PoC</a>
                </div>

                <!-- Expanded navigation -->
                <div class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li >
                                <a href="../../../details/">Details</a>
                            </li>
                            <li >
                                <a href="../../..">Home</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">RWoT8 <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
  <li class="dropdown-submenu">
    <a href="#">Topic Papers</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../A-DID-for-every-thing---Agile-Driving-Data-Chain">a-did-for-every-thing-agile-driving-data-chain</a>
</li>
            
<li >
    <a href="../Aligning-SSI-with-European-Union-Identity-legislation-eIDAS">aligning-ssi-with-european-union-identity-legislation-eidas</a>
</li>
            
<li >
    <a href="../Anonymous_DIDs">anonymous-dids</a>
</li>
            
<li >
    <a href="../Applying_POLA_to_User_Interaction">applying-pola-to-user-interaction</a>
</li>
            
<li >
    <a href="../DID-Content-References">did-content-references</a>
</li>
            
<li >
    <a href="../Digital-Identity-for-the-Homeless">digital-identity-for-the-homeless</a>
</li>
            
<li >
    <a href="../DigitalTrustProtocol">digitaltrustprotocol</a>
</li>
            
<li >
    <a href="../P2P-DID">p2p-did</a>
</li>
            
<li >
    <a href="../Proof_of_Key_Ownership_with_OpenID_Connect_Self-Issued_Identities">proof-of-key-ownership-with-openid-connect-self-issued-identities</a>
</li>
            
<li >
    <a href="../Providing_Decentralized_Identity_to_the_most_vulnerable_populations">providing-decentralized-identity-to-the-most-vulnerable-populations</a>
</li>
            
<li >
    <a href="../RWOT-local-chapters">rwot-local-chapters</a>
</li>
            
<li >
    <a href="../SSI-FrameworkProposal">ssi-frameworkproposal</a>
</li>
            
<li >
    <a href="../SSI-FrameworkProposal">ssi-frameworkproposal</a>
</li>
            
<li >
    <a href="../The-Untimely-Death-Of-SSI">the-untimely-death-of-ssi</a>
</li>
            
<li >
    <a href="../Universal-DID-Operations">universal-did-operations</a>
</li>
            
<li >
    <a href="../Using-Immutable-Data-Objects">using-immutable-data-objects</a>
</li>
            
<li >
    <a href="../Zero-knowledge-Proofs">zero-knowledge-proofs</a>
</li>
            
<li >
    <a href="../bootstrap_web-of-trust_reliance-lifecycle">bootstrap-web-of-trust-reliance-lifecycle</a>
</li>
            
<li >
    <a href="../bringing-dependencies-btcr-wallet-to-swift-ecosystem">bringing-dependencies-btcr-wallet-to-swift-ecosystem</a>
</li>
            
<li >
    <a href="../contextual_nondiscrete_identity">contextual-nondiscrete-identity</a>
</li>
            
<li >
    <a href="../credentials-and-correlation">credentials-and-correlation</a>
</li>
            
<li >
    <a href="../data-vala-realization">data-vala-realization</a>
</li>
            
<li >
    <a href="../decentralized-digital-identity-book">decentralized-digital-identity-book</a>
</li>
            
<li >
    <a href="../did-fee-market-using-micropayments">did-fee-market-using-micropayments</a>
</li>
            
<li >
    <a href="../did-namespace-records">did-namespace-records</a>
</li>
            
<li >
    <a href="../did-primer-extended">did-primer-extended</a>
</li>
            
<li >
    <a href="../did-primer">did-primer</a>
</li>
            
<li >
    <a href="../did-spec-current-status">did-spec-current-status</a>
</li>
            
<li >
    <a href="../did-ux">did-ux</a>
</li>
            
<li >
    <a href="../digital-contraception">digital-contraception</a>
</li>
            
<li >
    <a href="../diverse-teams">diverse-teams</a>
</li>
            
<li >
    <a href="../educational-credentialing-ecosystem">educational-credentialing-ecosystem</a>
</li>
            
<li >
    <a href="../exploring_adoption_of_sharing_vcs">exploring-adoption-of-sharing-vcs</a>
</li>
            
<li >
    <a href="../financing-self-sovereign-stack">financing-self-sovereign-stack</a>
</li>
            
<li >
    <a href="../functional-identity-primer">functional-identity-primer</a>
</li>
            
<li >
    <a href="../glossary-primer">glossary-primer</a>
</li>
            
<li >
    <a href="../graphs-everywhere">graphs-everywhere</a>
</li>
            
<li >
    <a href="../handshake">handshake</a>
</li>
            
<li >
    <a href="../humanity-API">humanity-api</a>
</li>
            
<li >
    <a href="../identity-containers">identity-containers</a>
</li>
            
<li >
    <a href="../identity-for-people-places">identity-for-people-places</a>
</li>
            
<li >
    <a href="../idm-concept">idm-concept</a>
</li>
            
<li >
    <a href="../idm-spec">idm-spec</a>
</li>
            
<li >
    <a href="../implementing-threshold-schemes">implementing-threshold-schemes</a>
</li>
            
<li >
    <a href="../introductory-capability-dht-concept">introductory-capability-dht-concept</a>
</li>
            
<li >
    <a href="../journalistic-use-cases">journalistic-use-cases</a>
</li>
            
<li >
    <a href="../libp2p_did_auth.">libp2p-did-auth</a>
</li>
            
<li >
    <a href="../multiformat-superfriends">multiformat-superfriends</a>
</li>
            
<li >
    <a href="../name-services-and-ssi">name-services-and-ssi</a>
</li>
            
<li >
    <a href="../notebook-workbench">notebook-workbench</a>
</li>
            
<li >
    <a href="../oidc-profile-for-ssi">oidc-profile-for-ssi</a>
</li>
            
<li >
    <a href="../on-interpersonal-data">on-interpersonal-data</a>
</li>
            
<li >
    <a href="../psdad">psdad</a>
</li>
            
<li >
    <a href="../rightsframeworks">rightsframeworks</a>
</li>
            
<li >
    <a href="../security_shamirs">security-shamirs</a>
</li>
            
<li >
    <a href="../social-key-recovery">social-key-recovery</a>
</li>
            
<li >
    <a href="../ssi20XX-model-use-case-def">ssi20xx-model-use-case-def</a>
</li>
            
<li >
    <a href="../supporting-btcr">supporting-btcr</a>
</li>
            
<li >
    <a href="../the-untimely-death-of-ssi">the-untimely-death-of-ssi</a>
</li>
            
<li >
    <a href="../trusting-attributes">trusting-attributes</a>
</li>
            
<li >
    <a href="../united-humans-critiqal-questions">united-humans-critiqal-questions</a>
</li>
            
<li >
    <a href="../universal-id-framework">universal-id-framework</a>
</li>
            
<li >
    <a href="../universal-ledger-agent">universal-ledger-agent</a>
</li>
            
<li >
    <a href="../universe-is-blockchain">universe-is-blockchain</a>
</li>
            
<li >
    <a href="../vcs-agent-centric">vcs-agent-centric</a>
</li>
            
<li >
    <a href="../verifiable-credentials-primer">verifiable-credentials-primer</a>
</li>
            
<li >
    <a href=".">verifiable-displays-in-html</a>
</li>
            
<li >
    <a href="../verifiable-postal-address-claims">verifiable-postal-address-claims</a>
</li>
            
<li >
    <a href="../w3c-identity-workshop-report">w3c-identity-workshop-report</a>
</li>
            
<li >
    <a href="../why-WOTs-work">why-wots-work</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#verifiable-displays-secure-presentation-of-verifiable-credentials-in-html">Verifiable Displays: secure presentation of Verifiable Credentials in HTML</a></li>
            <li><a href="#abstract">Abstract</a></li>
            <li><a href="#problem-statement">Problem Statement</a></li>
            <li><a href="#html-verifiable-displays-verifiable-credentials-hashlinks-tying-all-together">HTML, Verifiable Displays, Verifiable Credentials, Hashlinks  - tying all together</a></li>
            <li><a href="#conclusion">Conclusion</a></li>
            <li><a href="#questions">Questions</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="verifiable-displays-secure-presentation-of-verifiable-credentials-in-html">Verifiable Displays: secure presentation of Verifiable Credentials in HTML</h1>
<p>Authors: Bohdan Andriyiv (bohdan.andriyiv@validbook.org)</p>
<p>Keywords: Verifiable Displays, Verifiable Credentials, Hashlinks, HTML</p>
<h2 id="abstract">Abstract</h2>
<p>This paper describes a way to create tamper-proofed, future-proofed, "anywhere renderable" bundles of Verifiable Credentials and their Verifiable Displays, by embedding Verifiable Credentials and their Verifiable Displays into HTML files and linking them with Hashlinks. </p>
<p>This paper is a continued exploration of the problem and proposals discussed in the paper - <a href="https://github.com/WebOfTrustInfo/rwot7-toronto/blob/master/topics-and-advance-readings/verifiable_displays.md">Verifiable Displays</a>. It uses understandings and developments from <a href="https://github.com/WebOfTrustInfo/rwot7-toronto/blob/master/topics-and-advance-readings/resource-integrity-proofs.md">Resource Integrity Proofs</a> paper and  <a href="https://tools.ietf.org/html/draft-sporny-hashlink-02">Hashlinks - Cryptographic Hyperlinks</a> specification.</p>
<h2 id="problem-statement">Problem Statement</h2>
<p>The <a href="https://w3c.github.io/vc-data-model/">Verifiable Credentials Data Model</a> is an emerging standard for expressing credentials such as driver's licenses, degrees, and passports on the Web in a secure, privacy respecting manner. The "Verifiable" part is because they are designed to be <em>cryptographically</em> and <em>machine</em> verifiable.</p>
<p>This emphasis on cryptogrphic machine verification is essential, but what’s not in scope of the VC Data Model is scenarios where a human participates in verification.</p>
<p>A human person is typically not looking at the content in a raw json format (this content is cryptographically signed/verifiable); instead they are looking at a styled representation of the content: PDF, HTML, SVG, etc.</p>
<p>The questions arise: 
 - How does the consumer of Verifiable Credential know that the friendly display they see is what the issuer signed/intended? 
 - How does the issuer know that the consumer will see the intened display, when it went through intermediary hands? 
 - In general, how to know that the display matches the content? 
 - Time-related concerns to credentials display: 
 -- How to ensure, everlasting longevity of the Verifiable Credential display? 
 -- In other words, how to make sure that display of the credential is going to be renderable and verifiable in the distant future? </p>
<h2 id="html-verifiable-displays-verifiable-credentials-hashlinks-tying-all-together">HTML, Verifiable Displays, Verifiable Credentials, Hashlinks  - tying all together</h2>
<p><a href="https://www.w3.org/TR/html52/">HTML</a> is a ubiquitous standard used to present data on the Internet. It can be rendered (opened) by all Internet related tools (most importantly by the Internet browsers). Therefore it is the best candidate to be used to display Verifiable Credentials.</p>
<p><a href="https://hackmd.io/x9XKZZPvQ026YLuZUlcm7w?both#Embedding-Verifiable-Credential-and-Verifiable-Display-into-one-HTML-file">Verifiable Displays</a> is a visual representation of Verifiable Credentials. It can be created by using any text or image format that can be embedded into HTML and rendered by typical Internet browser.</p>
<p><a href="https://w3c.github.io/vc-data-model/">Verifiable Credentials</a> is a JSON based specification to express cryptographically verifiable data.</p>
<p><a href="https://tools.ietf.org/html/draft-sporny-hashlink-02">Hashlink</a> is a newly proposed internet standard that provides a universal future-proofed way to reference data and ensure its integrity. </p>
<h3 id="using-hashlink-to-reference-verifiable-display-from-verifiable-credential">Using Hashlink to reference Verifiable Display from Verifiable Credential</h3>
<p>The example below demonstrates a simple hashlink that provides content integrity protection for the "http://example.org/hw.txt" file, which has a content type of "text/plain":</p>
<p>hl:zQmWvQxTqbG2Z9HPJgG57jjwR154cKhbtJenbyYTWkjgF3e:zuh8iaLobXC8g9tfma1CSTtYBakXeSTkHrYA5hmD4F7dCLw8XYwZ1GWyJ3zwF</p>
<p>Please, see in <a href="https://tools.ietf.org/html/draft-sporny-hashlink-02">Hashlink specification</a> the detailed description of how this hashlink is created.</p>
<p><em>TODO:</em>
 <em>- Provide description of standard metadata in hashlink that references Verifiable Display that is only locally available. For example - "BundledIntoHTML", "BundledIntoSVG", "local".</em>
<em>Maybe, better to use hashlink as parametrized URL? - http://BundledIntoHTML?hl=zQmWvQxTqbG2Z9HPJgG57jjwR154cKhbtJenbyYTWkjgF3e</em></p>
<p><em>- Provide standard way to add into Verifiable Credential hashlink that references its Verifiable Display.</em> <em>Example:</em></p>
<pre><code> &quot;reference&quot;: {  
            &quot;type&quot;:[&quot;VerifiableDisplay&quot;],
            &quot;hl&quot;:&quot;http://BundledIntoHTML?hl=zQmWvQxTqbG2Z9HPJgG57jjwR154cKhbtJenbyYTWkjgF3e&quot;
            }
</code></pre>

<h3 id="embedding-verifiable-credential-and-verifiable-display-into-html-file">Embedding Verifiable Credential <em>and</em> Verifiable Display into HTML file</h3>
<p>Verifiable Display may be created by using any text or image format that can be embedded into HTML and rendered by typical Internet browser. </p>
<p>Store Verifiable Display in first <code>&lt;div&gt;</code> element with attribute <code>data-type = "Verifiable Display"</code>, and attribute <code>hl = "_hash_value_of_hashlink"</code></p>
<p>Store Verifiable Credential in  <code>&lt;head&gt;</code> block, within <code>&lt;script type="application/ld+json"&gt;</code> element.</p>
<p>Embedding algorithm:
- Create Verifiable Display 
- Create Hashlink that references this Verifiable Display
- Add Hashlink into Verifiable Credential
- Create HTML file with Verifiable Credential embedded into <code>&lt;head&gt;</code> block, and Verifiable Display embedded into <code>&lt;div&gt;</code> element with attribute <code>data-type = "Verifiable Display"</code> </p>
<p>Verification algorithm:
- Parse Verifiable Credential from the <code>&lt;head&gt;</code> block
- Parse hash value from Hashlink that references correct Verifiable Display
- Take content of the <code>div</code> element that is being presented to the user and calculate its hash using the same hash algorithm, that is used in Hashlink taken from Verifiable Credential 
- Compare calcualted hash value with hash value from Verfiaible Credential. If they are the same Verifiable Display is correct, if they are not the same Verifiable Display has been tempered with  </p>
<p>See here <a href="https://drive.google.com/uc?export=download&amp;id=1a87-uNSPoBJdav5rP6Q1sAp5Dnp-sCNV">HTML example</a> and <a href="https://drive.google.com/uc?export=download&amp;id=1ePvJqpmFgrXcvdRxld104DMY129385gd">SVG example</a> of HTML files with embedded Verifiable Credentials and their Verifiable Displays.</p>
<blockquote>
<p>Example implementation: You can see how verification of Verifiable Displays may look like at at: <a href="http://futurama1x.validbook.org/statements">Validbook Statements service</a>. To do this, login as the test user - “Jimbo Fry” using this <a href="https://drive.google.com/uc?export=download&amp;id=1_ZDoXh4aBUQXR50PLRusZRF7XvEY3OQx">private key</a> (password to private key file: “123456789”). After login go manually to the <a href="http://futurama1x.validbook.org/statements">Validbook Statements service</a>, use Chrome browser.) </p>
</blockquote>
<h2 id="conclusion">Conclusion</h2>
<p>In this paper we proposed the outline of the specification for tamper-proofed, future-proofed, "anywhere renderable", "truly portable" bundles of Verifiable Credentials and their Verifiable Displays, by embedding them into HTML files and linking them with Hashlinks.</p>
<h2 id="questions">Questions</h2>
<ul>
<li>How to use Hashlink to reference data that is part of HTML file? (describe hashlink metadata) </li>
</ul></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../../js/base.js" defer></script>
        <script src="../../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
