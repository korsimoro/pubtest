<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    
    <link rel="shortcut icon" href="../../../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Identity Hubs Capabilities Perspective - RWoT DIR Launchpad</title>
    <link href="../../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../css/highlight.css">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../../js/jquery-3.2.1.min.js"></script>
    <script src="../../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "Identity Hubs Capabilities Perspective", url: "#_top", children: [
              {title: "by Adrian Gropper, Drummond Reed, Mark S. Miller", url: "#by-adrian-gropper-drummond-reed-mark-s-miller" },
              {title: "Abstract", url: "#abstract" },
              {title: "Security and Privacy Impact Assessment", url: "#security-and-privacy-impact-assessment" },
              {title: "Self-Sovereign Identity", url: "#self-sovereign-identity" },
              {title: "Self-Sovereign Agent", url: "#self-sovereign-agent" },
              {title: "Implementation Example", url: "#implementation-example" },
              {title: "Proposal to DIF", url: "#proposal-to-dif" },
              {title: "References", url: "#references" },
          ]},
        ];

    </script>
    <script src="../../../js/base.js"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    <h1 id="identity-hubs-capabilities-perspective">Identity Hubs Capabilities Perspective</h1>
<h3 id="by-adrian-gropper-drummond-reed-mark-s-miller">by Adrian Gropper, Drummond Reed, Mark S. Miller</h3>
<h2 id="abstract">Abstract</h2>
<p>Identity Hubs as currently proposed in the Decentralized Identity
Foundation (DIF) are a subset of a general Decentralized Identifier
(DID) based user-controlled agent, based on ACLs rather than an
object-capabilities (ocap) architecture.  The current approach has
both security and scalability issues. Transitioning the Hubs design to
an ocap model can be achieved by introducing an UMA authorization
server as the control endpoint. This avoids creating confused-deputy
security issues and expands scale by enabling the hub to delegate
access to resources not stored in the hub itself.</p>
<h2 id="security-and-privacy-impact-assessment">Security and Privacy Impact Assessment</h2>
<p>Control over personal data is becoming more important
as networking and storage costs become negligible compared to the value
of our data itself. A prominent example of this is the EU General Data
Protection Regulations (GDPR) and Payment  Services Directive (PSD2),
which mandate sweeping new responsibilities for transparency and control
to all enterprises that hold personal data.</p>
<p>In general, personal data fits into three distinct
categories:</p>
<ul>
<li>Data generated by a service or device (e.g., a lab
    test of my anonymous blood sample or location streamed by my
    mobile device)</li>
<li>Data aggregated by a service (e.g., a credit
    reporting enterprise)</li>
<li>Data aggregated by a fiduciary or self-sovereign
    agent (e.g., a personal server that I own or a secure
    mobile wallet)</li>
</ul>
<p>Privacy threads through all aspects of access to
personal data for:</p>
<ul>
<li>the subject (we ignore guardians in this short paper)
    of the personal data; and</li>
<li>the parties seeking access to the personal data
    about the subject. </li>
</ul>
<p>A scalable personal data architecture will guide the
implementation of secure and privacy-preserving services without the
costs and risks of unwanted aggregation.</p>
<h2 id="self-sovereign-identity">Self-Sovereign Identity</h2>
<p>The scale of a personal data architecture is limited by federation
as a root of trust. Federations work best when
applied to entities of similar size and scope. Banks can form successful
federations of ATMs. Professional or semi-professional sports teams can
federate, separately, to form leagues. But a federation related to
identity could span the full range of human, machine, and institutional
entity activity across countries, cultures, professions, and risks.</p>
<p>A standardized self-sovereign identifier (e.g., a DID) uses
distributed public ledgers as a source of trust while retaining the
option, on a person-by-person basis, to leverage federated
identities or not.</p>
<p>Self-sovereign identifiers and verifiable credentials
are useful for both the subject and the requesting party. Both can
benefit from self-sovereign mobile wallets with local biometric
protections and from the ability to sign documents in a legally
non-repudiable manner.</p>
<p>Self-sovereign identifiers serve as the root of trust
for the subject’s agent and for claims presented by a requesting
party.</p>
<h2 id="self-sovereign-agent">Self-Sovereign Agent</h2>
<p>The essential component of the agent is the ability to
authorize access to the subject’s resources by requesting parties. As
such, it secures the subject’s policies without actually sharing the
policies. By way of analogy, cryptographers design secure elements to
protect private keys from having to be shared while still being
effective in the actions they control. The execution of arbitrary code
as part of a secure element is core to the general capability to issue
authorization decisions while also keeping secret the policies that led
to the decision.</p>
<p>To the extent that an agent also hosts a database
holding data about the subject that can be shared with requesting
parties, access to that data is also under the control of the
authorization server.</p>
<h2 id="implementation-example">Implementation Example</h2>
<p><strong>Preamble:</strong> Subject Alice goes to have four blood tests at
a resource service Lab; they will be made available, in the future, under
her control to various requesting parties. One of these requesting
parties is Bob. Bob has verifiable credentials as a licensed MD and a
member of his temple. Alice controls an authorization server
(AS).</p>
<ol>
<li>Alice presets a policy in her AS that any MD can
    access anything other than “Sensitive” tests. This happens only once
    and applies to many transactions with many service providers. This
    can be inherited along with the code for the AS from a source that
    Alice trusts.</li>
<li>Alice registers in-person at Lab and provides a
    blood sample and a pointer to her AS endpoint. The Lab registers four
    tests as four different resources with the AS. One of the resources has
    metadata STD. This happens only once regardless of how many times
    Alice gets lab tests at Lab. Time passes...</li>
<li>Bob, using out-of-band directory interactions or a
    referral from someone, is given a pointer to Alice@Lab resources.
    Bob may or may not know that there are four of them at Lab.</li>
<li>Bob goes to Lab to request the resources. He does
    not identify himself using any traditional forms of identification.
    Lab looks up Alice’s AS endpoint and gives Bob, whoever he is, a
    pointer to the AS along with a ticket that captures the context of
    the transaction for later reference.</li>
<li>Bob authenticates to Alice’s AS and presents the MD
    credentials but not his temple membership. The context ticket says
    he’s asking for three of the four results.</li>
<li>Alice’s AS consults the policies and the metadata
    associated with the context ticket (as registered, or dynamically at
    the time of the request) and determines that one of the three tests
    is Sensitive. In some cases, metadata shows up that the AS does not
    understand and Alice herself may need to be consulted; otherwise the
    process is automatic once Bob has submitted the ticket and
    the claims.</li>
<li>The AS issues to Bob’s software client a token
    granting access to two of the three tests he requested. The token can be
    associated with OAuth refresh so that Bob will not need to
    re-authenticate for a year.</li>
<li>Bob’s client presents the token to the Lab. The
    token can encode the permission for the two tests or the Lab can
    consult the AS to determine the scope of access associated with
    the token.</li>
<li>
<p>The Lab exposes two of the four tests to
    Bob’s client.</p>
</li>
<li>
<p>Note that Alice can choose to move some or all of
    the Lab data to an aggregator because she considers the Lab to be
    unreliable beyond a certain time. If she does that, Alice will need
    to ensure that the lab test retains provenance to Bob’s
    satisfaction and that represents a significant added cost. </p>
</li>
<li>Although delegating access control to an external
    AS is an added cost to the Lab, it is also a feature that attracts
    Alice as a customer and it reduces their legal liability
    under GDPR.</li>
<li>Note that Alice and Bob both have the ability to
    attenuate the scope of disclosure about them.</li>
<li>The only single point of failure is Alice’s AS,
    which must be sufficiently reliable.</li>
<li>Alice has a single point of control for all of her
    participating services, which is a major convenience.</li>
<li>Alice can have as many AS endpoints as she wants
    separate personas. To avoid unwarranted correlation, the AS endpoint
    can go through a mixer or hub.</li>
</ol>
<p>Token-based access control to RESTful APIs has been standardized
as OAuth2. The UMA standard builds on top of OAuth2 to enable the
separation of the authorization server from the resource server. The
subject authenticates into the authorization
server of the agent in order to create or modify policies and to manage
the code that uses policies to respond to requesting parties. The
requesting parties bring tickets to the authorization server that
represent the context of a resource access request along with whatever
credentials the requesting party chooses to expose to the authorization
server. The requesting party then receives a limited scope
access token to the resource
regardless of whether the resource is coresident in the agent or hosted
by an independent enterprise.</p>
<h2 id="proposal-to-dif">Proposal to DIF</h2>
<p>We propose an update of the DIF Identity Hub to specify
OAuth2 and UMA as the protection mechanisms of the hub. That would be
followed by a privacy impact assessment of all aspects of the Identity
Hub specification including specific reference to GDPR and PSD2
compliance.</p>
<h2 id="references">References</h2>
<h3 id="acls-dont">ACLs Don’t</h3>
<p><a href="https://www.google.com/url?q=http://www.hpl.hp.com/techreports/2009/HPL-2009-20.pdf&amp;sa=D&amp;ust=1507775086704000&amp;usg=AFQjCNHKu5HQRRjr7MykfXo1oOPIseZmew">http://www.hpl.hp.com/techreports/2009/HPL-2009-20.pdf</a></p>
<h3 id="uma">UMA</h3>
<p><a href="https://www.google.com/url?q=https://kantarainitiative.org/confluence/display/uma/Home&amp;sa=D&amp;ust=1507775086704000&amp;usg=AFQjCNHC-YddTeuPK_cIdoiUqqxcrM31rA">https://kantarainitiative.org/confluence/display/uma/Home</a></p>
<h3 id="dif-hubs">DIF Hubs</h3>
<p><a href="https://www.google.com/url?q=https://github.com/decentralized-identity/hubs/blob/master/explainer.md&amp;sa=D&amp;ust=1507775086705000&amp;usg=AFQjCNHREJD6MTa5mFYyFT4ESFDXFZU3GQ">https://github.com/decentralized-identity/hubs/blob/master/explainer.md</a></p>

  <br>
</div>

<footer class="col-md-12 wm-page-content"><p>All of the contents of this directory are licensed CC-BY their contributors, unless otherwise noted.</p>
  <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>