<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    
    <link rel="shortcut icon" href="../../../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Understanding dids in greater depth - RWoT DIR Launchpad</title>
    <link href="../../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../css/highlight.css">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../../js/jquery-3.2.1.min.js"></script>
    <script src="../../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "Understanding DIDs in Greater Depth", url: "#_top", children: [
              {title: "Introduction", url: "#introduction" },
              {title: "Understanding the Motivations for DIDs", url: "#understanding-the-motivations-for-dids" },
              {title: "Understanding the Structure of DIDs and DID URLs", url: "#understanding-the-structure-of-dids-and-did-urls" },
              {title: "Understanding DID Methods", url: "#understanding-did-methods" },
              {title: "Understanding DID Documents", url: "#understanding-did-documents" },
              {title: "Understanding DID Authentication", url: "#understanding-did-authentication" },
              {title: "Understanding DID Resolution and Dereferencing", url: "#understanding-did-resolution-and-dereferencing" },
              {title: "Understanding DID Fragment References", url: "#understanding-did-fragment-references" },
              {title: "Understanding DID Content References", url: "#understanding-did-content-references" },
              {title: "Understanding DID Service References", url: "#understanding-did-service-references" },
              {title: "Appendix A: ANBF for DIDs and DID URLs", url: "#appendix-a-anbf-for-dids-and-did-urls" },
              {title: "Appendix B: ABNF for URIs (RFC 3986)", url: "#appendix-b-abnf-for-uris-rfc-3986" },
          ]},
        ];

    </script>
    <script src="../../../js/base.js"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    <!----- Conversion time: 3.131 seconds.

Using this Markdown file:

1. Cut and paste this output into your source file.
2. See the notes and action items below regarding this conversion run.
3. Check the rendered output (headings, lists, code blocks, tables) for proper
   formatting and use a linkchecker before you publish this page.

Conversion notes:

* Docs to Markdown version 1.0β16
* Sun Mar 03 2019 08:11:06 GMT-0800 (PST)
* Source doc: https://docs.google.com/a/consensys.net/open?id=1i66zZVjST2wjqCnL_b3bN0SIhN-C_swFeCjaPdIxANI
* This document has images: check for >>>>>  gd2md-html alert:  inline image link in generated source and store images to your server.

WARNING:
You have 12 H1 headings. You may want to use the "H1 -> H2" option to demote all headings by one level.

----->

<h1 id="understanding-dids-in-greater-depth">Understanding DIDs in Greater Depth</h1>
<p>A paper originating at the Rebooting the Web of Trust #8 Design Workshop</p>
<p>2019-03-03</p>
<p>Authors: Drummond Reed, Ken Ebert, Daniel C. Burnett</p>
<h2 id="introduction">Introduction</h2>
<p>If you know nothing about DIDs, and just want a quick overview, read the DID Primer. If you need to understand in better detail but don't want to have to read the entire DID specification, this document is for you.</p>
<p>It gives the motivations for creating DIDs, their structure, and associated documents, methods, authentication, resolution, and dereferencing.</p>
<p>This document is not intended to be an definitive specification; implementers please refer to the draft specification (<a href="https://w3c-ccg.github.io/did-spec/">Decentralized Identifiers (DIDs) v0.11</a>) for the details.</p>
<h2 id="understanding-the-motivations-for-dids">Understanding the Motivations for DIDs</h2>
<p>When Verifiable Credentials (see <a href="https://github.com/w3c/vc-data-model/blob/gh-pages/VCDMExplainer.md">Verifiable Credentials Data-Model Explainer</a>) were being developed, the WG needed identifiers for Issuers, Verifiers, and the Subjects that the credential claims were about. The first option considered as potential identifiers was email addresses or account names on popular services such as those from Facebook or Google. However, these addresses can be taken away from the person who uses them.</p>
<p>Another option considered was URLs. The identifier owner believes he controls the domain names permanently. Unfortunately, those, too, are only "leased" and not actually "owned", and can thus be taken away just like the email addresses or account names.</p>
<p>Basing the existence of and control over an identifier on blockchain or decentralized ledgers in general offers the opportunity for identifiers that really can only be controlled or deactivated by whoever controls the corresponding cryptographic keys. These are Decentralized Identifiers (note: not decentralized identities).</p>
<p>For use cases where the need for this independence of control ranges from "nice to have" to "absolutely critical", take a look at the <a href="https://w3c-ccg.github.io/did-use-cases/">Use Cases for Decentralized Identifiers</a>.</p>
<h2 id="understanding-the-structure-of-dids-and-did-urls">Understanding the Structure of DIDs and DID URLs</h2>
<p>In this section we'll explain the basic structure of DIDs as a new form of identifier. Then in later sections we'll explain in more detail how each of these components of a DID and DID URL are used.</p>
<h3 id="first-lets-start-with-a-long-established-identifier-urns">First, Let's Start With a Long-Established Identifier: URNs</h3>
<p>The basic structure (called the "syntax") of DIDs is based on the pattern established by URNs (Uniform Resource Names). This is a specific type of identifiers for the World Wide Web whose purpose is to provide persistent identification of a resource, i.e., an identifier that will never change (literally, forever). The URN specification was originally defined in 1997 by <a href="https://tools.ietf.org/html/rfc2141">RFC 2141</a> and is now defined by <a href="https://tools.ietf.org/html/rfc8141">RFC 8141</a>. This is what the structure of URN looks like:</p>
<p><img alt="alt_text" src="../media/Understanding-DIDs0.png" title="image_tooltip" /></p>
<h3 id="now-lets-understand-naked-dids">Now, Let's Understand "Naked DIDs"</h3>
<p>A "naked DID" (a DID that does not include any additional components described later in this document) follows the exact same structure.</p>
<p><img alt="alt_text" src="../media/Understanding-DIDs1.png" title="image_tooltip" /></p>
<h3 id="lets-now-look-at-urls-starting-with-an-http-url">Let's Now Look at URLs, Starting With an HTTP URL</h3>
<p>We use URLs every day as identifiers that, in our web browsers, refer to downloadable or executable resources on the World Wide Web.  DIDs are another form of identifiers that refer to a DID Subject. A DID Subject can have many properties. For example, a credential can be associated wtih a DID Subject using verifiable credentials. We expect the most common use will be as references to people and organizations.</p>
<p>HTTP URL strings look like the following:</p>
<p><img alt="alt_text" src="../media/Understanding-DIDs2.png" title="image_tooltip" /></p>
<h3 id="okay-so-now-whats-a-did-url">Okay, So Now What's a "DID URL"?</h3>
<p>The idea of a DID URL is that it has the same overall syntactic structure as an HTTP URL except for the structure of the "authority" part.</p>
<p><img alt="alt_text" src="../media/Understanding-DIDs3.png" title="image_tooltip" /></p>
<p>To clarify terminology, here are the two terms used in the DID ABNF and the DID specification to talk about overall sets of DID URL syntax:</p>
<p><img alt="alt_text" src="../media/Understanding-DIDs4.png" title="image_tooltip" /></p>
<p>Note that, as this diagram suggests a "naked DID" is actually, by itself, a valid DID URL. It just doesn't have any other the other three standard components that can be in a URL, i.e. a path, a query, or a fragment. </p>
<p>But if you want to refer to an identifier rooted on a naked DID that <strong>may</strong> include the other parts of a URL, i.e., the path, query, or fragment components.</p>
<p>THIS IS AS FAR AS WE HAVE PREPARED THE DRAFT OF THIS DOCUMENT AT RWOT8. THE AUTHORS WILL BE CONTINUING AFTER RWOT8 TO COMPLETE THIS DOCUMENT.</p>
<p>Syntactically, a DID looks like this:</p>
<p>(Need DID picture here pointing at different parts)</p>
<p>The three parts of a DID, separated by colons, are: \
The string "did", representing the "did" URI scheme. \
A DID method, in this case "btcr", that must be one of the values in the to-be-created DID Registry \
A string that is interpreted according to the rules of the specific DID method. \</p>
<h2 id="understanding-did-methods">Understanding DID Methods</h2>
<h2 id="understanding-did-documents">Understanding DID Documents</h2>
<h2 id="understanding-did-authentication">Understanding DID Authentication</h2>
<h2 id="understanding-did-resolution-and-dereferencing">Understanding DID Resolution and Dereferencing</h2>
<h2 id="understanding-did-fragment-references">Understanding DID Fragment References</h2>
<h2 id="understanding-did-content-references">Understanding DID Content References</h2>
<h2 id="understanding-did-service-references">Understanding DID Service References</h2>
<h2 id="appendix-a-anbf-for-dids-and-did-urls">Appendix A: ANBF for DIDs and DID URLs</h2>
<p>NOTE: The following ABNF is currently a proposal for the <a href="https://w3c-ccg.github.io/did-spec/">DID Specification</a> at the W3C Credentials Community Group. The intent is for this appendix to always contain a copy of the authoritative ABNF for DIDs and DID URLs.</p>
<pre><code class="abnf">; !syntax(&quot;abnf&quot;)
did                       = &quot;did:&quot; method &quot;:&quot; method-specific-idstring
method                    = 1*methodchar
methodchar                = %x61-7A / DIGIT
method-specific-idstring  = idstring *( &quot;:&quot; idstring )
idstring                  = 1*idchar
idchar                    = ALPHA / DIGIT / &quot;.&quot; / &quot;-&quot;
did-url                   = did [ did-relative-ref ]
did-relative-ref          = did-fragment-ref / did-content-ref / did-service-ref             ;added did-content-ref
did-fragment-ref          = &quot;#&quot; fragment
did-content-ref           = &quot;!&quot; content-id
content-id                = content-idstring *( &quot;:&quot; content-idstring )
content-idstring          = 1*uri-safe-char
uri-safe-char             = idchar / &quot;_&quot; / pct-encoded
did-service-ref           = &quot;$&quot; service-id [ path-abempty ] [ &quot;?&quot; query ] 
                            [ &quot;#&quot; fragment ]
service-id                = service-idstring *( &quot;:&quot; service-idstring )
service-idstring          = 1*uri-safe-char
did-reference             = did-url / did-relative-ref

ALPHA                     =  %x41-5A / %x61-7A   ; A-Z / a-z
DIGIT                     =  %x30-39             ; 0-9
</code></pre>

<h2 id="appendix-b-abnf-for-uris-rfc-3986">Appendix B: ABNF for URIs (RFC 3986)</h2>
<p>The syntax path through the ABNF used by a DID is highlighted in red below.</p>
<p>```abnf
; Appendix A.  Collected ABNF for URI</p>
<p>URI           = scheme ":" hier-part [ "?" query ] [ "#" fragment ]</p>
<p>hier-part     = "//" authority path-abempty
                 / path-absolute
                 / path-rootless
                 / path-empty</p>
<p>URI-reference = URI / relative-ref</p>
<p>absolute-URI  = scheme ":" hier-part [ "?" query ]</p>
<p>relative-ref  = relative-part [ "?" query ] [ "#" fragment ]</p>
<p>relative-part = "//" authority path-abempty
                 / path-absolute
                 / path-noscheme
                 / path-empty</p>
<p>scheme        = ALPHA *( ALPHA / DIGIT / "+" / "-" / "." )</p>
<p>authority     = [ userinfo "@" ] host [ ":" port ]
   userinfo      = <em>( unreserved / pct-encoded / sub-delims / ":" )
   host          = IP-literal / IPv4address / reg-name
   port          = </em>DIGIT</p>
<p>IP-literal    = "[" ( IPv6address / IPvFuture  ) "]"</p>
<p>IPvFuture     = "v" 1<em>HEXDIG "." 1</em>( unreserved / sub-delims / ":" )</p>
<p>IPv6address   =                            6( h16 ":" ) ls32
                 /                       "::" 5( h16 ":" ) ls32
                 / [               h16 ] "::" 4( h16 ":" ) ls32
                 / [ <em>1( h16 ":" ) h16 ] "::" 3( h16 ":" ) ls32
                 / [ </em>2( h16 ":" ) h16 ] "::" 2( h16 ":" ) ls32
                 / [ <em>3( h16 ":" ) h16 ] "::"    h16 ":"   ls32
                 / [ </em>4( h16 ":" ) h16 ] "::"              ls32
                 / [ <em>5( h16 ":" ) h16 ] "::"              h16
                 / [ </em>6( h16 ":" ) h16 ] "::"</p>
<p>h16           = 1*4HEXDIG
   ls32          = ( h16 ":" h16 ) / IPv4address
   IPv4address   = dec-octet "." dec-octet "." dec-octet "." dec-octet
   dec-octet     = DIGIT                 ; 0-9
                 / %x31-39 DIGIT         ; 10-99
                 / "1" 2DIGIT            ; 100-199
                 / "2" %x30-34 DIGIT     ; 200-249
                 / "25" %x30-35          ; 250-255</p>
<p>reg-name      = *( unreserved / pct-encoded / sub-delims )</p>
<p>path          = path-abempty    ; begins with "/" or is empty
                 / path-absolute   ; begins with "/" but not "//"
                 / path-noscheme   ; begins with a non-colon segment
                 / path-rootless   ; begins with a segment
                 / path-empty      ; zero characters</p>
<p>path-abempty  = <em>( "/" segment )
   path-absolute = "/" [ segment-nz </em>( "/" segment ) ]
   path-noscheme = segment-nz-nc <em>( "/" segment )
   path-rootless = segment-nz </em>( "/" segment )
   path-empty    = 0<pchar></p>
<p>segment       = <em>pchar
   segment-nz    = 1</em>pchar
   segment-nz-nc = 1*( unreserved / pct-encoded / sub-delims / "@" )
                 ; non-zero-length segment without any colon ":"</p>
<p>pchar         = unreserved / pct-encoded / sub-delims / ":" / "@"</p>
<p>query         = *( pchar / "/" / "?" )</p>
<p>fragment      = *( pchar / "/" / "?" )</p>
<p>pct-encoded   = "%" HEXDIG HEXDIG</p>
<p>unreserved    = ALPHA / DIGIT / "-" / "." / "_" / "~"
   reserved      = gen-delims / sub-delims
   gen-delims    = ":" / "/" / "?" / "#" / "[" / "]" / "@"
   sub-delims    = "!" / "$" / "&amp;" / "'" / "(" / ")"
                 / "*" / "+" / "," / ";" / "="</p>
<!-- Docs to Markdown version 1.0β16 -->

  <br>
</div>

<footer class="col-md-12 wm-page-content"><p>All of the contents of this directory are licensed CC-BY their contributors, unless otherwise noted.</p>
  <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>