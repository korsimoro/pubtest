<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    
    <link rel="shortcut icon" href="../../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Credential Providers for Signing Application Requests # - RWoT Topic Papers</title>
    <link href="../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../css/highlight.css">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../js/jquery-3.2.1.min.js"></script>
    <script src="../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "Credential Providers for Signing Application Requests", url: "#_top", children: [
              {title: "Introduction", url: "#introduction" },
              {title: "Proposed Design", url: "#proposed-design" },
              {title: "Considerations", url: "#considerations" },
              {title: "Conclusion", url: "#conclusion" },
          ]},
        ];

    </script>
    <script src="../../js/base.js"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    <h1 id="credential-providers-for-signing-application-requests">Credential Providers for Signing Application Requests</h1>
<p>Authored By: Cedric Franz</p>
<h2 id="introduction">Introduction</h2>
<p>For an applications interacting with a Credential Providers there is a need sign requests in much the same way that you 
would sign a transaction with MetaMask to execute a function call on a Ethereum smart contract.  For a more generic signing 
capability, the data would need to be passed to the Credential Provider in some sort of 'payload' for signing and then a 
signed payload should be returned. This simplistic view is relatively simple to achieve.  There are however a number of other 
considerations that also need to be addressed in order to improve the capabilities and the user experience.</p>
<h2 id="proposed-design">Proposed Design</h2>
<ol>
<li>The DApp builds a payload in JSON form</li>
<li>The User selects a Credential Provider that they have setup on their device</li>
<li>The payload is sent to the Credential Provider</li>
<li>The Credential Provider opens and the payload is displayed to the user. The Credential Provider requests the user to 
sign the payload</li>
<li>The signed payload is returned to the DApp</li>
<li>The DApp processes the signed payload where the signature can be verified</li>
</ol>
<p><img alt="dApp &lt;-&gt; Credential Provider Interaction" src="../media/CredentialProvider_App_Integration.png" /></p>
<h2 id="considerations">Considerations</h2>
<h3 id="communication-between-application-and-the-credential-provider">Communication Between Application and the Credential Provider</h3>
<p>A standard way needs to be decided in order for the dApp to find the Credential Provider and open a communication channel in 
order to facilitate the signing process. </p>
<p><em>Proposal:</em></p>
<p>A standard API should be constructed and all credential providers implementors would need to build to this API.  These
could include functions such as: creating a DID, retrieving a DID, signing a payload etc.</p>
<h3 id="data-augmentation">Data Augmentation</h3>
<p>Often the payload data is constructed from data in the DApp and the Credential Provider.  For instance: If a package is being 
delivered the deliver agent would have an app that would construct a payload of information regarding the package, delivery 
status etc. The recipient would requested to sign for the delivery and during that process some additional information other 
than the recipient's DID might also need to be included, such as the recipient's name, which should be populated by the 
credential provider of the recipient.</p>
<p><em>Proposal:</em></p>
<p>Standard schema and field definitions shoul dbe used to identify certin pieces of data.  Use of schema's such as those from 
Schema.org should be strongly encouraged when formulating a payload that requres data augmentation by the Credential Provider.</p>
<h3 id="data-rendering">Data Rendering</h3>
<p>When the user is presented with the payload contents, this needs to be displayed in a user friendly format.  I order to 
present the data to the user, addtional layout information should also be passed along with the payload that is understood 
by the credential provider app in order for the credential provider app to display the contents correctly formatted to the 
user. The layout information should not be signed only the payload.</p>
<p><em>Proposal:</em></p>
<p>Option 1: Define a standard for passing fomatting information through to the credential provider in order for the 
credential provider to display the payload in a user friendly way.</p>
<p>Option 2: Get the credential provider to display contents that are preformatted by the sending DApp. The risk here 
is that the credential provider will be unable to verify that the preformatted contents and the payload contents 
are the same data.  Hence the user might see one payload displayed, but sign a different payload.</p>
<p>Option 1 is preferred</p>
<h2 id="conclusion">Conclusion</h2>
<p>In order to greatly increase the utility of self-sovereign identities and the cryptographic signatures linked to them 
there need to be standards put in place to facilitate the interactions between applications and the credential providers. </p>

  <br>
</div>

<footer class="col-md-12 wm-page-content"><p>All of the contents of this directory are licensed CC-BY their contributors, unless otherwise noted.</p>
  <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>